var whoisLookup={tld:{au:"http://whois.ausregistry.com.au/whois/whois_local.jsp?qry="},defaultLookup:"https://whois.icann.org/en/lookup?name=",form:document.getElementById("whois-lookup"),errors:document.getElementById("whois-errors"),init:function(){this.form&&(this.form.onsubmit=whoisLookup.submit.bind(whoisLookup));try{var a=document.getElementById("domain");a&&a.focus()}catch(a){}},submit:function(){this.errors.innerText="";var a=this.parse(this.form.domain.value);if(a){var b=this.tld.hasOwnProperty(a.tld)?this.tld[a.tld]:this.defaultLookup;b+=encodeURIComponent(a.domain),ga("send",{hitType:"event",eventCategory:"whois-lookup",eventAction:"click",eventLabel:a.domain,transport:"beacon",nonInteraction:!0});try{var c=window.open(b,"_blank");c.focus()}catch(a){this.errors.innerHTML='There were problems opening a new window.<br />Try this link <a href="'+b+'" target="_blank">'+b+"</a>"}}else this.errors.innerText="The domain name you entered doesn't look right. It must be in the format 'example.com.au'";return!1},parse:function(a){a=(""+a).trim();var b=a.match(/^(?:(?:[a-z0-9]+-)*[a-z0-9]+\.)+([a-z0-9]{2,})$/);if(b&&2==b.length)return{domain:b[0],tld:b[1]}}};whoisLookup.init();